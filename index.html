<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FGC Rankings</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/images/favicon.png">

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .table-container {
            display: block;
            width: 100%;
            overflow-x: auto;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 20px;
        }
        th, td {
            text-align: left;
            padding: 8px;
            border: 1px solid #ddd;
        }
        th {
            background-color: #f4f4f4;
        }
        @media (max-width: 768px) {
            table {
                display: none;
            }
            .card {
                border: 1px solid #ddd;
                border-radius: 5px;
                margin-bottom: 15px;
                padding: 10px;
                background-color: #fff;
            }
            .card h3 {
                margin: 0 0 0.25rem 0; /* Added 0.25rem space between header and data */
                font-size: 1.2em;
            }
            .card p {
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="table-container" id="table-container"></div>

    <script>
        async function fetchData() {
            const response = await fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vS-5EA7Uvl16qJolXsMR4SRAzXb6XwclnVtT92byBa34nk3WMk6qL2XG79-xF-uRg/pub?gid=1862929315&single=true&output=csv');
            const data = await response.text();
            const rows = data.split("\n").map(row => row.split(","));

            const tableContainer = document.getElementById("table-container");

            if (window.innerWidth > 768) {
                // Desktop table
                let table = "<table><thead><tr>";
                rows[0].forEach(header => {
                    table += `<th>${header}</th>`;
                });
                table += "</tr></thead><tbody>";
                for (let i = 1; i < rows.length; i++) {
                    if (rows[i].length > 1) {
                        table += "<tr>";
                        rows[i].forEach(cell => {
                            table += `<td>${cell}</td>`;
                        });
                        table += "</tr>";
                    }
                }
                table += "</tbody></table>";
                tableContainer.innerHTML = table;
            } else {
                // Mobile cards
                let cards = "";
                for (let i = 1; i < rows.length; i++) {
                    if (rows[i].length > 1) {
                        cards += `<div class="card">`;
                        cards += `<h3>${rows[i][0]}</h3>`; // Character name
                        for (let j = 1; j < rows[i].length; j++) {
                            cards += `<p><strong>${rows[0][j]}:</strong> ${rows[i][j]}</p>`;
                        }
                        cards += `</div>`;
                    }
                }
                tableContainer.innerHTML = cards;
            }
        }

        fetchData();
    </script>
</body>
</html>
